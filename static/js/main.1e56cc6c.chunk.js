(this.webpackJsonpunknown=this.webpackJsonpunknown||[]).push([[0],{36:function(e,t,n){},37:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(28),r=n.n(s),i=(n(36),n(3)),o=n(6),l=(n(37),n(11)),u=n.n(l),d=n(5),j=n(2),b=n(12),m=n(0),h=function(e){var t=e.toLogin,n=Object(a.useState)({email:"",password:""}),c=Object(o.a)(n,2),s=c[0],r=c[1],l=function(e){r(Object(i.a)(Object(i.a)({},s),{},Object(b.a)({},e.target.id,e.target.value)))};return Object(m.jsxs)("div",{className:"login-container",children:[Object(m.jsxs)("form",{className:"login-form",onSubmit:function(e){e.preventDefault(),t(s)},children:[Object(m.jsx)("label",{className:"form-email",htmlFor:"email",children:"Email"}),Object(m.jsx)("input",{id:"email",type:"text",onChange:l,value:s.email}),Object(m.jsx)("label",{className:"form-password",htmlFor:"password",children:"Password"}),Object(m.jsx)("input",{id:"password",type:"password",onChange:l,value:s.password}),Object(m.jsx)("button",{type:"submit",className:"signup-btn",children:"GO"})]}),Object(m.jsx)(d.b,{to:"/signup",children:"looking to buy some art? lets be friends, signup here."})]})},p=function(e){var t=e.userProps,n=t.user,a=t.toLogout,c=t.toLogin;return n?Object(m.jsxs)("div",{children:[Object(m.jsxs)("h1",{children:["Welcome back ",n.username]}),Object(m.jsx)("button",{onClick:a,children:"logout"}),Object(m.jsx)(d.b,{to:"/mybids",children:"see bids"})]}):Object(m.jsx)(h,{toLogin:c})},O=function(){return Object(m.jsx)("div",{})},x=function(e){var t=e.toSignup,n={username:"",email:"",password:"",password2:""},c=Object(a.useState)(n),s=Object(o.a)(c,2),r=s[0],l=s[1],u=function(e){l(Object(i.a)(Object(i.a)({},r),{},Object(b.a)({},e.target.id,e.target.value)))};return Object(m.jsx)("div",{className:"signup-container",children:Object(m.jsxs)("form",{className:"signup-form",onSubmit:function(e){e.preventDefault(),r.password!==r.password2?alert("passwords must match"):(t(r),l(n))},children:[Object(m.jsx)("label",{className:"form-username",htmlFor:"username",children:"Username"}),Object(m.jsx)("input",{id:"username",type:"text",onChange:u,value:r.username}),Object(m.jsx)("label",{className:"form-email",htmlFor:"email",children:"Email"}),Object(m.jsx)("input",{id:"email",type:"email",onChange:u,value:r.email}),Object(m.jsx)("label",{className:"form-password",htmlFor:"password",children:"Password"}),Object(m.jsx)("input",{id:"password",type:"password",onChange:u,value:r.password}),Object(m.jsx)("label",{className:"form-password2",htmlFor:"password2",children:"Password again"}),Object(m.jsx)("input",{id:"password2",type:"password",onChange:u,value:r.password2}),Object(m.jsx)("button",{type:"submit",className:"signup-btn",children:"GO"})]})})},f=function(e){var t=e.artwork;return Object(m.jsx)("div",{className:"artwork-lite central",children:Object(m.jsx)("img",{className:"artwork-image",src:t,alt:"art"})})},v=function(e){for(var t=e.artworks,n=[],a=0;a<t.length;a++){var c="https://name-pending-backend.herokuapp.com/"+t[a].pictures[0],s=t[a].name,r=t[a]._id;n.push(Object(m.jsx)(d.b,{to:"/art/".concat(s),children:Object(m.jsx)(f,{artwork:c},r)}))}return Object(m.jsx)("div",{className:"gallery-container central",children:n})},g=function(e){var t=e.artworks;return Object(m.jsx)("div",{children:t?Object(m.jsx)(v,{artworks:t}):null})},w=function(e){var t=e.artworkId,n=e.toAuction,c={start:"",duration:96},s=Object(a.useState)(c),r=Object(o.a)(s,2),l=r[0],u=r[1],d=function(e){u(Object(i.a)(Object(i.a)({},l),{},Object(b.a)({},e.target.id,e.target.value)))};return Object(m.jsx)("div",{className:"super-new-auction",children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a={time:{start:l.start,duration:l.duration},artwork:t};n(a),u(c)},children:[Object(m.jsx)("label",{className:"form-username",htmlFor:"duration",children:"Auction Duration"}),Object(m.jsx)("input",{id:"duration",type:"number",onChange:d,value:l.duration}),Object(m.jsx)("label",{className:"form-username",htmlFor:"start",children:"Auction Start"}),Object(m.jsx)("input",{id:"start",type:"datetime-local",onChange:d,value:l.start}),Object(m.jsx)("button",{type:"submit",children:"list"})]})})},k=function(e){var t=e.artwork,n=e.toAuction,c=Object(a.useState)(!1),s=Object(o.a)(c,2),r=s[0],i=s[1],l="http://localhost:4000"+t.pictures[0];return Object(m.jsxs)("div",{className:"super-artwork",children:[Object(m.jsx)("img",{className:"artwork-image",src:l,alt:t.name}),Object(m.jsx)("h2",{className:"artwork-name",children:t.name}),Object(m.jsx)("button",{onClick:function(){return i(!0)},children:"set auction"}),r?Object(m.jsx)(w,{toAuction:n,artworkId:t.id}):null]})},N=function(e){for(var t=e.artworks,n=e.toAuction,a=[],c=0;c<t.length;c++)a.push(Object(m.jsx)(k,{toAuction:n,artwork:t[c]},t[c].name));return Object(m.jsx)("div",{className:"artlist-container",children:a})},y=n(31),S=function(e){var t=e.expiryTimestamp,n=Object(y.useTimer)({expiryTimestamp:t,onExpire:function(){return console.warn("onExpire called")}}),a=n.seconds,s=n.minutes,r=n.hours,i=n.days,o=n.isRunning,l=Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsx)("span",{children:0!==i?"".concat(i," days"):null}),Object(m.jsx)("span",{children:0!==r?"".concat(r," hours"):null}),":",Object(m.jsx)("span",{children:r<=12?s:null}),":",Object(m.jsx)("span",{children:r<=1?a:null})]});return Object(m.jsxs)("div",{style:{textAlign:"center"},children:[Object(m.jsx)("div",{style:{fontSize:"100px"},children:l}),Object(m.jsx)("p",{children:o?"Running":"Not running"})]})},C=function(e){var t=e.auction,n=e.artwork,a="https://name-pending-backend.herokuapp.com/"+n.pictures[0],c=new Date(t.time.end).toLocaleDateString(),s=new Date(t.time.end).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return"0"===s[0]&&(s=s.slice(1)),Object(m.jsxs)("div",{className:"auction-lite",children:[Object(m.jsx)("div",{className:"art-component",children:Object(m.jsx)("img",{className:"artwork-image-lite",src:a,alt:"art"})}),Object(m.jsxs)("div",{className:"auction-component vertical",children:[Object(m.jsx)("h3",{className:"artwork-name",children:n.name}),Object(m.jsxs)("h4",{className:"auction-price",children:["highest bid: ",t.currentMax,"$"]}),Object(m.jsx)("p",{className:"end-text",children:"auction. ends."}),Object(m.jsxs)("p",{className:"end-date",children:[c,", ",s]}),Object(m.jsx)(d.b,{className:"bid-now",to:"/art/".concat(n.name),children:"bid now"})]})]})},A=function(e){var t=e.auctionProps,n=[],a=t.auctions,c=t.artworks;if(a&&c||t.call(),a&&c)for(var s=function(e){var t=c.filter((function(t){return t._id===a[e].artwork}))[0];n.push(Object(m.jsx)(C,{auction:a[e],artwork:t},a[e]._id))},r=0;r<a.length;r++)s(r);return Object(m.jsx)("div",{className:"auction-lite-container",children:n})},B=function(e){var t=e.bid;return console.log(t),Object(m.jsxs)("div",{children:[Object(m.jsx)("h4",{children:t.bidAmount}),Object(m.jsx)("p",{children:t.auction})]})},P=function(e){var t,n=e.bids,a=e.getAllBids;return n.all?t=n.map((function(e){return Object(m.jsxs)("li",{className:"bid-history-item",children:[e.bidAmount,", ",e.createdAt,", ",Object(m.jsx)(d.b,{to:"/auctions/".concat(e.auction),children:"Auction Results"})]})})):a(),Object(m.jsx)("div",{children:t})},T=function(e){var t=e.bids,n=e.getWonBids;t.won||n();var a=t.map((function(e){return""}));return Object(m.jsx)("div",{children:a})},E=function(e){var t,n=e.bids,c=e.getActiveBids,s=e.getAllBids,r=e.getWonBids,i=Object(a.useState)(!1),l=Object(o.a)(i,2),u=l[0],d=l[1],j=Object(a.useState)(!1),b=Object(o.a)(j,2),h=b[0],p=b[1];return n.active?(console.log(n),t=n.active.map((function(e){return Object(m.jsx)(B,{bid:e})}))):c(),Object(m.jsxs)("div",{className:"my-bids-container",children:[Object(m.jsx)("div",{className:"active-bids",children:t}),Object(m.jsxs)("div",{className:"all-bids",children:[Object(m.jsx)("button",{onClick:function(){return d(!u)},children:"View All Bids"}),u?Object(m.jsx)(P,{bids:n,getAllBids:s}):Object(m.jsx)("p",{className:"no-bids",children:":( buy my art"})]}),Object(m.jsxs)("div",{className:"winning-bids",children:[Object(m.jsx)("button",{onClick:function(){return p(!h)},children:"View Winning Bids"}),h?Object(m.jsx)(T,{bids:n,getWonBids:r}):Object(m.jsx)("p",{className:"no-bids",children:":( buy my art... harder"})]})]})},F=function(e){var t=e.artwork,n="https://name-pending-backend.herokuapp.com/"+t.pictures[0];return Object(m.jsxs)("div",{className:"artwork",children:[Object(m.jsx)("img",{className:"artwork-image-lite",src:n,alt:t.name}),Object(m.jsx)("h2",{className:"artwork-name",children:t.name}),Object(m.jsx)("p",{className:"artwork-description",children:t.description}),Object(m.jsx)("p",{className:"artwork-materials",children:t.materials})]})},D=function(e){var t,n,c=e.match,s=e.auctionProps,r={bid:"",auctionId:""},l=Object(a.useState)(r),u=Object(o.a)(l,2),d=u[0],j=u[1],h=null,p=s.toBid;s.auctions?s.artworks&&s.auctions&&(h=s.artworks.filter((function(e){return e.name===c.artwork}))[0],t=s.auctions.filter((function(e){return e.artwork===h._id}))[0],n=new Date(t.time.end)):s.call();return h?Object(m.jsxs)("div",{className:"auction-container",children:[Object(m.jsx)(F,{artwork:h}),Object(m.jsx)("h2",{className:"current-max",children:t.currentMax}),Object(m.jsx)("h4",{className:"auction-ends",children:"Auction Ends"}),Object(m.jsx)(S,{expiryTimestamp:n}),Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d.bid<t.currentMax+1?alert("must place a bid greater or ewual to minimum bid value"):(j(Object(i.a)(Object(i.a)({},d),{},{auctionId:t._id})),p(d)),j(r)},className:"bid-form",children:[Object(m.jsx)("label",{className:"bid",htmlFor:"bid",children:"Bid"}),Object(m.jsx)("input",{id:"bid",type:"text",onChange:function(e){j(Object(i.a)(Object(i.a)({},d),{},Object(b.a)({},e.target.id,e.target.value)))},value:d.bid}),Object(m.jsx)("button",{type:"submit",className:"bid-btn",children:"Place Bid"})]}),Object(m.jsxs)("p",{className:"minimum-bid",children:["minimum bid: ",t.currentMax+1,"$"]})]}):null};var G=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(null),r=Object(o.a)(s,2),l=r[0],b=r[1],h=Object(a.useState)({active:null,all:null,won:null}),f=Object(o.a)(h,2),v=f[0],w=f[1],k=Object(a.useState)(null),y=Object(o.a)(k,2),S=y[0],C=y[1],B=function(){u()({method:"GET",withCredentials:!0,url:"https://name-pending-backend.herokuapp.com/art"}).then((function(e){c(e.data)}))},P=function(){u()({method:"GET",withCredentials:!0,url:"https://name-pending-backend.herokuapp.com/auctions/active"}).then((function(e){b(e.data)}))},T=function(e){var t=e;u()({method:"POST",data:t,withCredentials:!0,url:"https://name-pending-backend.herokuapp.com/new"}).then((function(e){console.log(e.data)}))},F=function(){u()({method:"GET",withCredentials:!0,url:"https://name-pending-backend.herokuapp.com/user/"}).then((function(e){console.log(e),C(e.data)}))},G=function(e){var t=e;u()({method:"POST",data:t,withCredentials:!0,url:"https://name-pending-backend.herokuapp.com/auctions"}).then((function(e){console.log(e.data)}))};Object(a.useEffect)((function(){F(),B(),P()}),[]);var L={artworks:n,auctions:l,call:function(){P(),B()},toBid:function(e){var t=e;u()({method:"POST",data:t,withCredentials:!0,url:"https://name-pending-backend.herokuapp.com/bids"}).then((function(e){console.log(e),200===e.status&&P()})).catch((function(e){window.location.replace("/user")}))}},W={bids:v,getActiveBids:function(){u()({method:"GET",withCredentials:!0,url:"https://name-pending-backend.herokuapp.com/bids/active"}).then((function(e){w(Object(i.a)(Object(i.a)({},v),{},{active:e.data}))}))},getAllBids:function(){u()({method:"GET",withCredentials:!0,url:"https://name-pending-backend.herokuapp.com/bids/all"}).then((function(e){w(Object(i.a)(Object(i.a)({},v),{},{all:e.data}))}))},getWonBids:function(){u()({method:"GET",withCredentials:!0,url:"https://name-pending-backend.herokuapp.com/bids/active"}).then((function(e){w(Object(i.a)(Object(i.a)({},v),{},{won:e.data}))}))}},I={user:S,toLogin:function(e){var t=e;u()({method:"POST",data:t,withCredentials:!0,url:"https://name-pending-backend.herokuapp.com/user/login"}).then((function(){F()}))},toSignup:T,getUser:F};return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsxs)("nav",{children:[Object(m.jsx)(d.b,{className:"nav-item vertical",id:"nav-user",to:"/user",children:"profile"}),Object(m.jsx)(d.b,{className:"nav-item vertical",id:"nav-about",to:"/about",children:"about"}),Object(m.jsx)(d.b,{className:"nav-item vertical",id:"nav-auc",to:"/auctions",children:"auction"}),Object(m.jsx)(d.b,{className:"nav-item vertical",id:"nav-art",to:"/",children:"gallery"})]}),Object(m.jsxs)("main",{children:[Object(m.jsx)(j.a,{exact:!0,path:"/",render:function(){return Object(m.jsx)(g,{artworks:n})}}),Object(m.jsx)(j.a,{exact:!0,path:"/art/:artwork",render:function(e){return Object(m.jsx)(D,{auctionProps:L,match:e.match.params})}}),Object(m.jsx)(j.a,{exact:!0,path:"/auctions",render:function(){return Object(m.jsx)(A,{auctionProps:L})}}),Object(m.jsx)(j.a,{exact:!0,path:"/about",component:O}),Object(m.jsx)(j.a,{exact:!0,path:"/signup",render:function(){return Object(m.jsx)(x,{toSignup:T})}}),Object(m.jsx)(j.a,{exact:!0,path:"/mybids",render:function(){return Object(m.jsx)(E,{bidProps:W})}}),Object(m.jsx)(j.a,{exact:!0,path:"/user",render:function(){return Object(m.jsx)(p,{userProps:I})}}),Object(m.jsx)(j.a,{exact:!0,path:"/super",render:function(){return Object(m.jsx)(N,{toAuction:G,artworks:n})}})]})]})};r.a.render(Object(m.jsx)(d.a,{children:Object(m.jsx)(G,{})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.1e56cc6c.chunk.js.map